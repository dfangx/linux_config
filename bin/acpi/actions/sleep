#!/bin/bash

power_state="/sys/power/state"

case "$1" in 
    "button/lid")
        case "$3" in
            "close")
                sudo -u "#1000" XAUTHORITY="/run/user/1000/Xauthority" DISPLAY=":0" betterlockscreen -l &
                sleep 1
	        echo -n "mem" > "$power_state"
                ;;
	    *);;
        esac
        ;;
    "button/sleep")
        case "$2" in 
	    "SBTN")
                sudo -u "#1000" XAUTHORITY="/run/user/1000/Xauthority" DISPLAY=":0" betterlockscreen -l &
                sleep 1
                echo -n "mem" > "$power_state"
                ;;
	    *);;
        esac
        ;;
    "button/power")
        case "$2" in
            "PBTN")
                sudo -u "#1000" XAUTHORITY="/run/user/1000/Xauthority" DISPLAY=":0" betterlockscreen -l &
                sleep 1
                echo -n "mem" > "$power_state"
                ;;
            *);;
        esac
        ;;
    *);;
esac
